<!DOCTYPE html>
<html lang="en">

<head>
  <title>Model Viewer with Chroma Key Video</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link type="text/css" href="./styles.css" rel="stylesheet" />

  <script async src="https://ga.jspm.io/npm:es-module-shims@1.6.3/dist/es-module-shims.js"></script>
  <script type="importmap-shim">
  {
    "imports": {
      "three": "./model-viewer-301.min.js"
    }
  }
  </script>

  <script type="module-shim" src="model-viewer-301.min.js"></script>
</head>

<body>
 <model-viewer id="usdzViewer" src="AL.usdz" ar ar-modes="scene-viewer quick-look" camera-controls>
  <button slot="ar-button" id="ar-button">View in AR</button>
</model-viewer>

<!-- Overlaying a Video -->
<video id="videoOverlay" src="Tiger.mp4" autoplay loop muted playsinline></video>

<script>
  const modelViewer = document.getElementById("usdzViewer");
  const videoOverlay = document.getElementById("videoOverlay");

  modelViewer.addEventListener("quick-look-button-tap", () => {
    videoOverlay.style.display = "block"; // Show video when entering AR
    videoOverlay.play();
  });

  modelViewer.addEventListener("exit-ar", () => {
    videoOverlay.style.display = "none"; // Hide when exiting AR
    videoOverlay.pause();
  });
</script>

<style>
  #videoOverlay {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300px;
    height: auto;
    transform: translate(-50%, -50%);
    display: none;
  }
</style
</body>
</html>
